<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>GIS on Jason Han&#39;s Blog</title>
    <link>https://drjasonhan.github.io/tags/gis/</link>
    <description>Recent content in GIS on Jason Han&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-gb</language>
    <lastBuildDate>Tue, 10 Nov 2020 11:46:18 +0800</lastBuildDate><atom:link href="https://drjasonhan.github.io/tags/gis/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>从 GPS 坐标到工程坐标</title>
      <link>https://drjasonhan.github.io/post/%E4%BB%8Egps%E5%9D%90%E6%A0%87%E5%88%B0%E5%B7%A5%E7%A8%8B%E5%9D%90%E6%A0%87/</link>
      <pubDate>Tue, 10 Nov 2020 11:46:18 +0800</pubDate>
      
      <guid>https://drjasonhan.github.io/post/%E4%BB%8Egps%E5%9D%90%E6%A0%87%E5%88%B0%E5%B7%A5%E7%A8%8B%E5%9D%90%E6%A0%87/</guid>
      <description>测量是所有建筑施工的基础，而实现坐标信息从地理坐标系到工程坐标系的转换是整个测量工作的前提。坐标的原始信息来自 GPS，其格式为 BLH 经纬度。然而，实际工程中所使用的是 XYH 平面工程坐标系，本文的主要内容就是介绍如何实现从做原始的 GPS 坐标到工程坐标的转换。
1. 总体流程 将原始的GPS经纬度信息转换为可用的工程坐标信息的总体流程如下：
 flowchart TD; GPS1[&#34;1. 获取 GPS 坐标，此时为经纬度&#34;]--TranE[&#34;2. 空间坐标系转换(七参数法，可选)&#34;] TranE--Proj[&#34;3. 投影转换，得到XYH工程坐标&#34;]--Trans4P[&#34;4. 平面坐标系转换(四参数法，可选)，得到当前工程下的局部坐标&#34;] Trans4P--Second[&#34;5. 坐标的二次校核&#34;]  图1 总体流程图 上述过程的主体是步骤 1 和 3，即把空间的经纬度坐标(BLH)投影成为工程可用的平面坐标(XYH)。目前国内常用的投影方式为高斯-克吕格投影，国际中较为常用的是 UTM 投影，具体都有相关的公式，本文不再赘述。下面对其余步骤做一些说明。
2. 基准转换 比较需要注意的是步骤 2 和 4，这两个步骤所做的都是一件事——基准转换。基准转换是指空间点在不同椭球的坐标转换，其有两种方式，分别为空间坐标转换(以七参数法为代表)和平面坐标转换方法(以四参数法为代表)。一般这两种方式不会同时采用：当工程区域较大时，倾向于直接进行空间坐标转换；当工程区域较小时，习惯上采用平面坐标转换并配合高程拟合。
2.1. 大地基准 大地基准是建立国家大地坐标系统和推算国家大地控制网中各点大地坐标的基本依据 1。建立大地基准就是用一个椭球代表地球形体，就是建立椭球系统。
在椭球系统中描述地理位置用的就是经纬度。我们常说：两对数值相同的经纬度在地理上可能代表的是两个完全不同的位置。其原因就在于它们所使用的椭球系统可能不同。仅在我国，所涉及的椭球系统就包括北京54、西安80和国家2000，而目前在世界上应用最为广泛的是美国的 WGS84。不同椭球系统之间的差别在于椭球的形状参数。
 你可能会问，地球的形状是固定的，为什么要造出来这么多种椭球系统呢?答案可参见 2。简而简之，一是随着测绘技术(包括数学、物理学、光学等)的发展，人们描述地球的方式慢慢进步，得出了越来越精确的椭球系统;二是不同的椭球系统的侧重点各有不同。比如，我国的北京54是1954年在苏联的协助下建立起来的，其所设定的是以他们国家为中心。后来我国的测绘技术逐渐成熟，在1980年提出了西安80,建立了以我们自己为中心的坐标系。再到后来，随着技术的进一步完善，我国建立了误差更小的国家2000坐标系。目前定位设备中大部分都采用是美国的 WGS84,而我国近年来发展起来的北斗采用的则为国家2000，不过两种椭球参数之间的差别非常微小。
 2.2. 地球坐标系 地球坐标系可分为大地坐标系和空间直角坐标系。在大地坐标系（也可以称之为椭球坐标系）中描述地理位置使用的是经纬度 (B, L, H)，在空间直角坐标系中则使用 (X, Y, Z)，两套描述方式间有明确的数学关系。
2.3. 空间坐标转换 空间坐标转换的常用方法为七参数法，7个参数包括3个平移参数、3个旋转参数和1个尺度参数。实现空间坐标转换的步骤为：
 graph TB 椭球系统A下的BLH--空间直角坐标系A中的XYZ--七参数法转换--空间直角坐标系B中的XYZ--椭球系统B下的BLH  图2 椭球坐标系转换流程</description>
    </item>
    
  </channel>
</rss>
